# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä-—Ç—Ä–µ–Ω–¥–æ–≤—ã—Ö —Å–¥–µ–ª–æ–∫ (26.10.2025)

## üéØ –ü—Ä–æ–±–ª–µ–º–∞

**User requirement:** –ù–ï–¢ –∫–æ–Ω—Ç—Ä-—Ç—Ä–µ–Ω–¥–æ–≤—ã—Ö —Å–¥–µ–ª–æ–∫ –¥–ª—è –í–°–ï–• –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤!

**–ù–∞–π–¥–µ–Ω–Ω–∞—è –æ—à–∏–±–∫–∞:**
- Pin Bar –ø–æ–ª—É—á–∞–ª **auto-score 200** –∏ **BYPASSES** —Ñ–∏–ª—å—Ç—Ä –ø–æ —Ç—Ä–µ–Ω–¥—É
- Pin Bar –º–æ–≥ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å –ü–†–û–¢–ò–í —Ç—Ä–µ–Ω–¥–∞:
  - ‚úÖ Pin Bar SELL –≤ uptrend - –†–ê–ó–†–ï–®–ê–õ–û–°–¨ ‚ùå
  - ‚úÖ Pin Bar BUY –≤ downtrend - –†–ê–ó–†–ï–®–ê–õ–û–°–¨ ‚ùå

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –î–æ:
```typescript
if (isPinbar) {
  score = 200; // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ PREMIUM —É—Ä–æ–≤–µ–Ω—å
  console.log(`üéØ PINBAR AUTO-PASS: score=200 (–∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º S/R –∏ Trend —Ñ–∏–ª—å—Ç—Ä—ã)`);
} else {
  // Trend check –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
  if (isCounterTrend) reject;
  
  // S/R scoring
  // Trend scoring
}
```

### –ü–æ—Å–ª–µ:
```typescript
// ‚õî –°–¢–†–û–ì–ê–Ø –§–ò–õ–¨–¢–†–ê–¶–ò–Ø –ü–û –¢–†–ï–ù–î–£ (–¥–ª—è –í–°–ï–• –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –ë–ï–ó –ò–°–ö–õ–Æ–ß–ï–ù–ò–ô)
const isCounterTrend = 
  (pattern.direction === 'LONG' && trend.isDowntrend) ||
  (pattern.direction === 'SHORT' && trend.isUptrend);

if (isCounterTrend) {
  console.log(`‚õî TREND GATING: REJECT`);
  continue; // –ë–ª–æ–∫–∏—Ä—É–µ–º –í–°–ï –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ—Ç–∏–≤ —Ç—Ä–µ–Ω–¥–∞
}

// Scoring
if (isPinbar) {
  score = 100; // –ë–∞–∑–æ–≤—ã–π score (–±–µ–∑ S/R –∞–Ω–∞–ª–∏–∑–∞)
} else {
  // S/R scoring –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
}

// Trend scoring –¥–ª—è –í–°–ï–• (–≤–∫–ª—é—á–∞—è Pin Bar)
score += 30/15/0;

// Volume scoring –¥–ª—è –í–°–ï–•
score += 30/15/0;

// Sharp move –¥–ª—è –í–°–ï–•
score += 20/0;
```

---

## üìä –ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ scoring –¥–ª—è Pin Bar

**–ë–∞–∑–æ–≤—ã–π score:** 100 (–≤–º–µ—Å—Ç–æ 200)

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –±–∞–ª–ª—ã:**
- **S/R**: –ü–†–û–ü–£–©–ï–ù (Pin Bar –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç S/R)
- **Trend**: +30 (aligned) / +15 (weak) / 0 (neutral)
- **Volume**: +30 (>1.5x) / +15 (>1.0x) / 0
- **Sharp Move**: +20 (–Ω–µ—Ç) / 0 (–µ—Å—Ç—å)

**–î–∏–∞–ø–∞–∑–æ–Ω:**
- –ú–∏–Ω–∏–º—É–º: 100 + 15 + 15 + 0 = **130** (–ø–æ—Ä–æ–≥)
- –ú–∞–∫—Å–∏–º—É–º: 100 + 30 + 30 + 20 = **180** (PREMIUM)

**–ü–æ—Ä–æ–≥–∏:**
- Pin Bar: ‚â•130 –±–∞–ª–ª–æ–≤
- Fakey/PPR/Engulfing: ‚â•50 –±–∞–ª–ª–æ–≤

---

## üéØ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Ç—Ä–µ–Ω–¥—É –¢–ï–ü–ï–†–¨

### ‚ùå –í–°–ï –ø–∞—Ç—Ç–µ—Ä–Ω—ã –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è –ø—Ä–æ—Ç–∏–≤ —Ç—Ä–µ–Ω–¥–∞:

```
UPTREND (Price > EMA50 > EMA200):
  ‚úÖ Pin Bar BUY - –†–ê–ó–†–ï–®–ï–ù–û
  ‚úÖ Fakey BUY - –†–ê–ó–†–ï–®–ï–ù–û
  ‚úÖ PPR BUY - –†–ê–ó–†–ï–®–ï–ù–û
  ‚úÖ Engulfing BUY - –†–ê–ó–†–ï–®–ï–ù–û
  
  ‚ùå Pin Bar SELL - –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û
  ‚ùå Fakey SELL - –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û
  ‚ùå PPR SELL - –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û
  ‚ùå Engulfing SELL - –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û

DOWNTREND (Price < EMA50 < EMA200):
  ‚úÖ Pin Bar SELL - –†–ê–ó–†–ï–®–ï–ù–û
  ‚úÖ Fakey SELL - –†–ê–ó–†–ï–®–ï–ù–û
  ‚úÖ PPR SELL - –†–ê–ó–†–ï–®–ï–ù–û
  ‚úÖ Engulfing SELL - –†–ê–ó–†–ï–®–ï–ù–û
  
  ‚ùå Pin Bar BUY - –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û
  ‚ùå Fakey BUY - –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û
  ‚ùå PPR BUY - –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û
  ‚ùå Engulfing BUY - –ó–ê–ë–õ–û–ö–ò–†–û–í–ê–ù–û
```

---

## üìù –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

**–§–∞–π–ª:** `src/utils/candleAnalyzer.ts`

**–°—Ç—Ä–æ–∫–∏ 875-960:**
1. ‚úÖ –£–±—Ä–∞–Ω auto-pass –¥–ª—è Pin Bar (score 200)
2. ‚úÖ Trend check –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω –ü–ï–†–ï–î –±–ª–æ–∫–æ–º scoring (–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –í–°–ï–ú)
3. ‚úÖ Pin Bar –ø–æ–ª—É—á–∞–µ—Ç –±–∞–∑–æ–≤—ã–π score 100
4. ‚úÖ Trend scoring –≤—ã–Ω–µ—Å–µ–Ω –Ω–∞—Ä—É–∂—É (–ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –í–°–ï–ú –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º)
5. ‚úÖ Volume –∏ Sharp Move –æ—Å—Ç–∞–ª–∏—Å—å –æ–±—â–∏–º–∏ –¥–ª—è –≤—Å–µ—Ö

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

**–î–û:** Pin Bar –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–ª —Ç—Ä–µ–Ω–¥ ‚ùå
**–ü–û–°–õ–ï:** Pin Bar –ë–õ–û–ö–ò–†–£–ï–¢–°–Ø –ø—Ä–æ—Ç–∏–≤ —Ç—Ä–µ–Ω–¥–∞ ‚úÖ

**–î–û:** Pin Bar auto-score 200 ‚ùå
**–ü–û–°–õ–ï:** Pin Bar —á–µ—Å—Ç–Ω—ã–π scoring (base 100 + —É—Å–ª–æ–≤–∏—è) ‚úÖ

**–î–û:** –¢–æ–ª—å–∫–æ Fakey/PPR/Engulfing —É–≤–∞–∂–∞–ª–∏ —Ç—Ä–µ–Ω–¥
**–ü–û–°–õ–ï:** –í–°–ï 4 –ø–∞—Ç—Ç–µ—Ä–Ω–∞ —É–≤–∞–∂–∞—é—Ç —Ç—Ä–µ–Ω–¥ ‚úÖ

---

## üéâ –ò–¢–û–ì

**–¢–µ–ø–µ—Ä—å –ù–ò–ö–ê–ö–ò–ï –∫–æ–Ω—Ç—Ä-—Ç—Ä–µ–Ω–¥–æ–≤—ã–µ —Å–¥–µ–ª–∫–∏ –ù–ï –†–ê–ó–†–ï–®–ï–ù–´!**

–í—Å–µ 4 –ø–∞—Ç—Ç–µ—Ä–Ω–∞ (Pin Bar, Fakey, PPR, Engulfing) –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑:
1. ‚õî **Trend check** - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–æ—Ç–∏–≤ —Ç—Ä–µ–Ω–¥–∞
2. üíØ **Scoring** - —á–µ—Å—Ç–Ω—ã–π –ø–æ–¥—Å—á–µ—Ç –±–∞–ª–ª–æ–≤
3. ‚úÖ **Threshold** - –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ –∫–∞—á–µ—Å—Ç–≤–∞

**Win Rate –¥–æ–ª–∂–µ–Ω –≤—ã—Ä–∞—Å—Ç–∏ –±–ª–∞–≥–æ–¥–∞—Ä—è —Ç–æ—Ä–≥–æ–≤–ª–µ –¢–û–õ–¨–ö–û –ø–æ —Ç—Ä–µ–Ω–¥—É! üìà**
