1) ПИН-БАР (Pin Bar)
Покупка (бычий pin)

На C0:

lower_wick >= 2 * body

lower_wick >= 2 * upper_wick

Доп. качество: close в верхней трети диапазона C0 → close >= low + 0.66*range

Доп.: body <= 0.35 * range (малое тело)

Сигнал: BUY

Продажа (медвежий pin)

На C0:

upper_wick >= 2 * body

upper_wick >= 2 * lower_wick

close <= high - 0.66*range

body <= 0.35 * range

Сигнал: SELL

2) ФЕЙКИ (Fakey через внутренний бар — “ложный пробой”)

Шаблон: C2 — “материнская”, C1 — внутренний бар (C1.high <= C2.high и C1.low >= C2.low).
C0 делает прокол границы внутреннего бара и закрывается обратно внутри диапазона C2 (ложный пробой).

Покупка (фейк вверх? на картинке — прокол минимума)

Условия:

C1 inside bar относительно C2

На C0: прокол минимума C1 → low0 < low1

Закрытие выше максимума C1 или как минимум внутри C2:
базово: close0 > high1 (агрессивно)
консервативно: close0 > open0 и close0 >= C2.low

Сигнал: BUY

Продажа

C1 inside bar относительно C2

На C0: прокол максимума C1 → high0 > high1

Закрытие ниже минимума C1 или хотя бы внутри C2:
базово: close0 < low1 (агрессивно)
консервативно: close0 < open0 и close0 <= C2.high

Сигнал: SELL

Примечание: вариантов фейки много. Выше — “чистая” логика по картинке: прокол границы C1 и закрытие назад. Если хотите строже — требуйте реального разворота: после прокола C0 закрывается за противоположной границей C1 (т.е. close0 > high1 для buy и close0 < low1 для sell).

3) ППР (вторая свеча закрывается за экстремумом первой)
Продажа

close0 < low1 (закрылись ниже минимума предыдущей)

При этом не требуем полного поглощения диапазона C1 — это отличает от “поглощения”

Сигнал: SELL

Покупка

close0 > high1

Сигнал: BUY

(Доп.-фильтр на ложные выносы: требовать body0 >= 0.5*range0 и range0 >= 0.6*ATR14.)

4) ПОГЛОЩЕНИЕ (Engulfing по диапазону)

На картинке указано именно поглощение диапазона (high/low), не только тел.

Покупка (бычье поглощение)

is_green0 и is_red1

high0 >= high1 и low0 <= low1 (диапазон C0 перекрывает диапазон C1)

Доп.: body0 >= body1 и close0 > open1 (усиление)

Сигнал: BUY

Продажа (медвежье поглощение)

is_red0 и is_green1

high0 >= high1 и low0 <= low1

Доп.: body0 >= body1 и close0 < open1

Сигнал: SELL