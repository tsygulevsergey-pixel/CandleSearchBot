Рабочие ТФ
15м, 1h, 4h.
Анализ всех фьючерсных пар на бинанас монета/USDT.
Фильтр монет => 20кк суточный обьем торгов.
Данные свечей получаем с бинанас, через API. 
логика.
15м свеча закрывается к примеру 00:00, 00:15, 00:30, 00:45 и так далее.
1H свеча закрывается 00:00, 01:00, 02:00 и так далее
4Н свеча закрывается 00:00, 04:00, 08:00 и так далее.

т.е. бот в 00:00:10 отправляет запрос на полученние данных свечей 15м, 1н, 4н.  Т.е. с аздержкой 10сек после закрытия свечи.  Данные получаем свечи которая закрылась и двух свечей перед ней. 
не закрытую свечу не трогаем. мы работаем только с закрытыми свечами уже. т.е. если 00:00:10 мы берем свечи которые уже закрытые в 00:00:00. а не текущую не закрытыю.
какие данные, открытие/закрытие/минимум/максимум.

Для свечи C[i] с open, high, low, close:

body = abs(close - open)

range = high - low

upper_wick = high - max(open, close)

lower_wick = min(open, close) - low

is_green = close > open

is_red = close < open

 прикрпепил скрин свечей. и второй файл, это правило паттернов. 

 Сигналы делятся на 3 типа. 
 15м, 1н, 4н.
 и 4 подтипа для каждого типа.
  1) пинбар покупка/ продажа 2) фейки покупка / продажа 3) ппр продажа/покупка 4) поглощение покупка / продажа.

  каждый сигнал отдельно сохраняем и отслеживаем его отработку, что бы потом можно было вывести статистику по каждому типу  и его подтипу отдельно. 
  + общая статистика по типам 
  и 
  просто общая статистика.

  Когда формируется сигнал, берем актуальную цену монеты на момент сигнала. 

  Правила стопов по каждому паттерну
Паттерн	Сторона	Где ставим SL	Формула
Pin Bar	BUY	за минимум пин-бара	SL = Low(C0) - 0,35 % чистого движения цены.
	SELL	за максимум пин-бара	SL = High(C0) + 0,35% чистого движения цены
Fakey (ложный пробой)	BUY	за ложным проколом	SL = Low(C0) - 0,35% чистого движения цены
	SELL	за ложным проколом	SL = High(C0) + 0,35% чистого движения цены
PPR (пробой-перехват)	BUY	под минимум предыдущей свечи	SL = Low(C1) - 0,35% чистого движения цены
	SELL	выше максимума предыдущей	SL = High(C1) + 0,35% чистого движения цены
Поглощение (Engulf)	BUY	под минимум поглощающего бара	SL = Low(C0) - 0,35% чистого движения цены.
	SELL	выше максимума поглощения	SL = High(C0) + 0,35% чистого движения цены.

    C0 – текущая сигнальная свеча 

C1 – предыдущая свеча

Тейк1 = R, тейк2 = 2R.